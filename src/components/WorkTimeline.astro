<div id="timeline">
  <div tabindex="0" class="item left">
    <span class="year">2017 - 2018</span>
    <h3 class="job-title">Job Title</h3>
    <p class="company">Company Name</p>
    <p class="location">Location</p>
    <p class="description">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos numquam
      eligendi deleniti ipsa minus, vel perspiciatis, beatae voluptate et
      provident, fugit odio repellendus hic facere laborum mollitia? Eligendi,
      nobis illum!
    </p>
  </div>
  <div tabindex="0" class="item right">
    <span class="year">2018 - 2019</span>
    <h3 class="job-title">Job Title</h3>
    <p class="company">Company Name</p>
    <p class="location">Location</p>
    <p class="description">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos numquam
      eligendi deleniti ipsa minus, vel perspiciatis, beatae voluptate et
      provident, fugit odio repellendus hic facere laborum mollitia? Eligendi,
      nobis illum!
    </p>
  </div>
  <div tabindex="0" class="item left">
    <span class="year">2019 - 2020</span>
    <h3 class="job-title">Job Title</h3>
    <p class="company">Company Name</p>
    <p class="location">Location</p>
    <p class="description">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos numquam
      eligendi deleniti ipsa minus, vel perspiciatis, beatae voluptate et
      provident, fugit odio repellendus hic facere laborum mollitia? Eligendi,
      nobis illum!
    </p>
  </div>
  <div tabindex="0" class="item right">
    <span class="year">2020 - 2021</span>
    <h3 class="job-title">Job Title</h3>
    <p class="company">Company Name</p>
    <p class="location">Location</p>
    <p class="description">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos numquam
      eligendi deleniti ipsa minus, vel perspiciatis, beatae voluptate et
      provident, fugit odio repellendus hic facere laborum mollitia? Eligendi,
      nobis illum!
    </p>
  </div>
  <div tabindex="0" class="item left">
    <span class="year">2021 - 2022</span>
    <h3 class="job-title">Job Title</h3>
    <p class="company">Company Name</p>
    <p class="location">Location</p>
    <p class="description">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos numquam
      eligendi deleniti ipsa minus, vel perspiciatis, beatae voluptate et
      provident, fugit odio repellendus hic facere laborum mollitia? Eligendi,
      nobis illum!
    </p>
  </div>
  <div tabindex="0" class="item right">
    <span class="year">2022 - 2023</span>
    <h3 class="job-title">Job Title</h3>
    <p class="company">Company Name</p>
    <p class="location">Location</p>
    <p class="description">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos numquam
      eligendi deleniti ipsa minus, vel perspiciatis, beatae voluptate et
      provident, fugit odio repellendus hic facere laborum mollitia? Eligendi,
      nobis illum!
    </p>
  </div>
  <!-- keep at bottom to preserve even/odd formatting -->
  <div id="line"></div>
</div>
<style>
  #timeline {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 3rem;
    justify-content: center;
    margin: 3rem auto;
    overflow-x: hidden;
  }
  #line {
    background-color: burlywood;
    width: 10px;
    /* height: auto; */
    position: absolute;
    height: 100%;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    border-radius: 20px;
  }
  .item {
    position: relative;
    background-color: azure;
    color: black;
    padding: 1rem;
    border-radius: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    flex-grow: 1; /* This item will take up remaining space */
    max-width: 250px;
    transition: max-width 0.5s ease-in-out;
  }
  @media (max-width: 600px) {
    .item {
      max-width: 150px;
    }
  }
  .item.right {
    text-align: right;
  }
  .item.left,
  .item:nth-of-type(odd) {
    flex-grow: 0; /* This item will only take up its content width */
    width: 50%; /* Set the width to 50% */
    margin-right: 52%; /* Push it to the right */
    margin-left: auto; /* Push it to the right */
  }
  .item.right,
  .item:nth-of-type(even) {
    flex-grow: 0; /* This item will only take up its content width */
    width: 50%; /* Set the width to 50% */
    margin-left: 52%; /* Push it to the right */
  }
  .item.left::after {
    content: ""; /* Create the pseudo-element */
    position: absolute;
    top: 50%; /* Position it vertically in the middle */
    right: -10px; /* Adjust as needed to control the distance from the right edge */
    width: 0;
    height: 0;
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
    border-left: 10px solid azure; /* Color of the callout arrow */
  }
  .item.right::before {
    content: ""; /* Create the pseudo-element */
    position: absolute;
    top: 50%; /* Position it vertically in the middle */
    left: -10px; /* Adjust as needed to control the distance from the right edge */
    width: 0;
    height: 0;
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
    border-right: 10px solid azure; /* Color of the callout arrow */
  }
</style>
<script
  is:inline
  src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
<script
  is:inline
  src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollTrigger.min.js"
></script>
<script>
  gsap.registerPlugin(ScrollTrigger);

  // fade in line
  gsap.from("#line", {
    scrollTrigger: {
      trigger: "#line",
      start: "top 100%",
      end: "bottom bottom",
      toggleActions: "restart none none none",
    },
    opacity: 0,
    duration: 1,
  });

  // GSAP fade in all .right items from right
  gsap.utils.toArray(".right").forEach((right) => {
    gsap.from(right, {
      scrollTrigger: {
        trigger: right,
        start: "top 100%",
        end: "bottom bottom",
        scrub: 1,
      },
      x: 100,
      opacity: 0,
      duration: 1,
    });
  });
  gsap.utils.toArray(".left").forEach((left) => {
    gsap.from(left, {
      scrollTrigger: {
        trigger: left,
        start: "top 100%",
        end: "bottom bottom",
        scrub: 1,
      },
      x: -100,
      opacity: 0,
      duration: 1,
    });
  });
</script>
